### Installing M7 application through helm chart

#### Subchart :
Each subchart can be enabled/disabled based on the condition specified in values.yaml file e.g.
```
oracle:
   enabled: false
mongodb:
   enabled: false
tomcat:
   enabled: true
   ...
```

Values of each subchart can be overridden through parent helm chart

```
libreoffice:
   image:
      registry: get.rnd.metricstream.com
      pullPolicy: IfNotPresent

activemq:
   image:
      registry: get.rnd.metricstream.com
      pullPolicy: IfNotPresent

...

```

#### Parent chart creates below common resources :
1) service account creation is condition based and name can be taken from values.yaml, if not specified it will be autogenerated
2) Image pull secrets is created based on value specified in secrets.yaml file


To run the chart we can do :
```
helm dependency update .
cp secrets.sample.yaml secrets.yaml
# Edit secrets.yaml with the credentials for registry
helm upgrade --install ms-app . -f secrets.yaml --set oracle.oracle.username=metricstream --set oracle.oracle.password=password -n dev

```

#### Pipeline pre -requisite
1) k8s Cluster should should be up and running
2) helm should be installed in the master node
3) helm push plugin should be installed
```
helm plugin install https://github.com/chartmuseum/helm-push

```
4) Passwordless connection between runner and master node
